<!DOCTYPE html >
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Ethereum Jackpot</title>
    <link href="css/style.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Catamaran" rel="stylesheet">	
    <link rel="stylesheet" href="js/jquery-ui.css">
    <link type="image/x-icon" href="favicon.ico" rel="shortcut icon">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">  
</head>
<body>
    
    <div class="loader">
        <div class="center">
          <div class="one"></div>
          <div class="two"></div>
      </div>
    </div>

    <div class='first_cont_block'>
        <div id="alert">
        <div class="head">
            <div class="close_bg"><img src="../img/close-yellow.png" class="close"/></div>
        </div>
            <p></p>
        </div>
        <header>
            <img src='img/logo.png' alt='Ethereum jackpot' />
            <span>Ethereum jackpot</span>
            <br>
        </header>
        

        <div class='tit-p-rooms'>Play rooms:</div>
    <section class='play-rooms'>
        <section class='room-list'>
            
            <ul>
                <span class="rooms" style="display: inline;"></span>
            </ul>
        </section>
    </section>

        <section class='state-buy-box'>
            <div class='jackpot'>Jackpot: <b><span  class="maxEth"></span> ETH <span style="font-size: 30px; color: grey; position: relative; top: -5px;">*</span></b></div>
            <div class="jeckpot-hint">* without commision of the lottery, see more in <a href="#how-it-works">how it works</a></div>
            <div class='state-lot'>Collected: <b class="soldEth"></b> out of <b><span class="maxEth"></span> ETH</b></div>
            <div id="takePartBox" >

                <p>
                </p>
                <ul class='tickets-list'  onmousedown="return false" onselectstart="return false">
                    
                </ul>	
                <p class='count-select-tick'>
                  <label>Total tickets price: <span>0 ETH</span> <i>/ <b>0</b> tickets</i></label>
                </p>	

                <button  class="transferFunds"><img src='img/metamask_icon.png' alt='' /><span>Buy with MetaMask</span></button>
                
                <p class="count-select-tick">
                  <label>Waiting for random number:</label>
                </p>
                <div class="p_bar">
                    <div class="status"><span>0</span> of 32 blocks
                    </div>
                    <ul>
                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                    </ul>
                </div>
            </div>
        </section>
        <section class='memb-tran-box'>
            <div class='members'>
                <h3>Members
                    <!-- <i><a href=''>View all</a></i> -->
                </h3>
                <section class='scroll scroll-right'>
                </section>
            </div>
        </section>

        <section class='lott-history-box'>
            <button id='takeHistoryButt'>
                <img class="show-history" src="img/arrow-history.png" alt="">
                <div class="close-history">
                    <img src="img/close-history.png" alt="">
                </div>
                <span class="text-hidden">Previous winners</span>
                <span class="text-show">Close previous winners</span>
            </button>

            <section id='takeHistoryBox'>

                <section class='lott-history-list scroll'>
                </section>
            </section>
        </section>

    </div>
    <div class='middle_cont_block' id="how-it-works">
        <article>
            <h2>How it works</h2>
            <p>We made safe lottery-like game.</p>
            <h4>Winner picking procedure</h4>
            <p>When all tickets in lottery are sold procedure of generation of random integer number starts, which then would be used to determine the winning-ticket number.</p>
            <p>Contract's random number generation mechanism is fully decentralized as uses only ethereum blockchain. It uses hashes of the next 32 blocks to generate a random 32bit integer number, which makes it impossible to influence the result of the lottery by individual miners or contract itself.</p>
            <p>After random number were being generated contract pick a winner-ticket by using modulo operation:</p>
            <code>winnerTicketNumber = randomNumber % numberOfTickets</code>
            <p>so contract could get a winner within lottery players.</p>
            <p>When contract have the winner-ticket number a prize send to the owner of that ticket and new lottery starts. It's that simple.</p>
            <p>You can check verified smartcontract code on <a href="https://etherscan.io/address/0x957CF177Fd2777F062B63BBf0661FacF99c9391c#code" target="_blank">etherscan.io</a></p>
            <h4>Rules</h4>
            <p>Separate ethereum address can hold up to 49% of tickets in each room</p>
            <p>You can't buy already bought ticket (marked with gray color on play ground), if you try - your transaction would fail.</p>
            <p>If you and someone else tries to buy the same ticket at the same time, only one of players gets a ticket (depends on decision of miner) another player gets failed tx and his money back (its a restriction of ethereum blockchain)</p>
            <h4>Loyalty Program</h4>
            <p>Contract introduce 1% referral system. You can get 1% of total jackpot your referral won. Referrals are common for all playing rooms and are assigned once forever. So if you bought a ticket using friends referral link you would be always a referral for that friend from that time.</p>
            <p>                
            <div class="referal-link" >
                <p>Copy my referal link</p>
                <span id="ref-link"></span>
            </div>
            </p>
            <h4>Refunds</h4>
            <p>Each room has its lifetime to sold all tickets before refund can be requested. Imagine we have a room of 100 tickets with lifetime of 1 month. You bought 10 tickets there, but after 1 month there's still tickets to buy. Anyone who bought a ticket in that room could request a refund and get full cost of bought tickets back, in case the lifetime of that room has passed. So you can't lock your ethers forever in a contract.</p>            
            <h4>Fees</h4>
            <p>
            <ul>
                <li>Contract holds 20% of a jackpot to itself which would be used for development of new features, paying tx fees, marketing.</li>
                <li>Winner gets 80% of a total jackpot.</li>
                <li>Referral gets 1% of a total jackpot which is payed from Contract share.</li>
            </ul>
            </p>
            <h4>Warning notice</h4>
            <p>Contract use <code>send</code> method to send prizes, referral payments and refunds, thus do not buy tickets from contracts that have fallback function with requirement of more than 2300 gas. If you used such contract and won the jackpot, requested refund or get a referral payment you're probably wont get the ethers because of <code>send</code> operation fail.</p>
            <p>If you're not sure of what you are doing - dont play this game</p>


            
        </article>
    </div>
    <footer>
        <section>
            <p>Â© Ethereum jackpot 2018</p>
            <!-- <a href="" class="rules pop-show">Terms and conditions</a> -->
        </section>
    </footer>
</body>

<script src="js/jquery-1.12.4.js"></script>
<script src="js/jquery-ui.js"></script>
<script>
    const address = "0x957cf177fd2777f062b63bbf0661facf99c9391c";
    var activeRoom = getParameterByName('room');
    var referal = getParameterByName('ref');

    if(referal == null){
        referal = '0x0000000000000000000000000000000000000000';
    }

    function getParameterByName(name, url) {
        if (!url) url = window.location.href;
        name = name.replace(/[\[\]]/g, "\\$&");
        var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
        results = regex.exec(url);
        if (!results) return null;
        if (!results[2]) return '';
        return decodeURIComponent(results[2].replace(/\+/g, " "));
    }
</script>
<script src="app.js"></script>
<script src="js/custom.js"></script>

</html>

